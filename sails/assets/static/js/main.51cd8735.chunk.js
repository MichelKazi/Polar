(this.webpackJsonppolar=this.webpackJsonppolar||[]).push([[0],{123:function(e,a){},227:function(e,a,t){e.exports=t(737)},258:function(e,a){},260:function(e,a){},295:function(e,a){},296:function(e,a){},737:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),o=t.n(l),c=t(9),i=t(94),s=t(47),m=t(765),u=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=Object(m.a)("_session"),l=Object(c.a)(n,1)[0];return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return l._session?r.a.createElement(a,e):r.a.createElement(s.a,{to:"/login"})}}))},d=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=Object(m.a)("_session"),l=Object(c.a)(n,1)[0];return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return l._session?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement(a,e)}}))},p=t(27),E=Object(p.a)(),b=t(211),g=t(777),f=t(778),h=t(97),v=t(768),j=t(46),O={},y=Object(n.createContext)(O),x=y.Provider,C=t(35),w=t.n(C),N=t(49),k=Object(b.a)({}),S=function(e){var a=Object(n.useContext)(y),t=a.dispatch,l=Object(m.a)("_session"),o=Object(c.a)(l,3),i=(o[0],o[1],o[2]),s=k();return r.a.createElement(v.a,{variant:"contained",color:"secondary",className:s.logoutbutton,onClick:function(e){return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),i("_session"),n.next=4,w.a.awrap(N.get("/api/v1/account/logout").then((function(){E.push("/"),window.location.reload()})).catch((function(e){console.log(e)})));case 4:console.log("Logging user out"),t({type:"setUser",payload:null}),console.log(a);case 7:case"end":return n.stop()}}))}},"LOG OUT")},P=t(770),A=t(771),_=t(772),W=t(790),I=t(773),F=t(774),B=t(775),D=t(776),T=t(213),L=t.n(T),U=t(89),R=t.n(U),q=t(50),z=t(117),G=Object(b.a)((function(e){return{clickable:{cursor:"pointer"},toolbar:{backgroundColor:z({luminosity:"dark"})}}})),K=function(e){var a=Object(s.g)(),t=Object(m.a)("_session"),l=Object(c.a)(t,2),o=l[0],i=(l[1],Object(n.useContext)(y),r.a.useState(!1)),u=Object(c.a)(i,2),d=u[0],p=u[1],E=r.a.useState(q.decode(o._session)),b=Object(c.a)(E,2),g=b[0],f=(b[1],G()),j=function(){p(!1)};return r.a.createElement(P.a,{position:"static"},r.a.createElement(A.a,{className:f.toolbar},r.a.createElement(h.a,{className:f.clickable,onClick:function(){a.push("/profile")},variant:"h5"},"Hi ",g.fullName),r.a.createElement(_.a,{item:!0,xs:!0}),r.a.createElement("img",{src:R.a,alt:"logo",width:50,onClick:function(){a.push("/dashboard")}}),r.a.createElement(_.a,{item:!0,xs:!0}),r.a.createElement(v.a,{endIcon:r.a.createElement(L.a,null),color:"inherit",onClick:function(){p(!0)}},"Sign Out")),r.a.createElement(W.a,{"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",open:d,onClose:j},r.a.createElement(I.a,{id:"alert-dialog-title"},"Are You Sure?"),r.a.createElement(F.a,null,r.a.createElement(B.a,{id:"alert-dialog-description"},"Do you really want to sign out? We'd hate for your next potential partner to not hear back from you.")),r.a.createElement(D.a,null,r.a.createElement(v.a,{onClick:j,color:"primary"},"Okay, nevermind"),r.a.createElement(S,null))))},Y=t(117),M=t(49),V=(t(50),Object(b.a)({root:{scrollSnapType:"y mandatory"},profile:{scrollSnapAlign:"start",textAlign:"center",height:"100vh"},photo:{width:500,margin:"0 auto",position:"relative"},like:{position:"absolute",left:"0%"},dislike:{position:"absolute",right:"0%"},name:{textAlign:"center"}})),J=function(e){var a=r.a.useState([]),t=Object(c.a)(a,2),l=t[0],o=t[1],i=Object(m.a)("_session"),s=Object(c.a)(i,3),u=s[0];s[1],s[2];Object(n.useEffect)((function(){M.get("/api/v1/dashboard",{headers:{Authorization:"Bearer ".concat(u._session)}}).then((function(e){return o(e.data)}))}),[u._session]),console.log(l);Object(n.useContext)(y).dispatch;var d=V();return r.a.createElement("div",{className:d.root},r.a.createElement(g.a,null),r.a.createElement(K,null),l.map((function(e,a){return r.a.createElement(f.a,{maxWidth:!1,className:d.profile,key:a,style:{backgroundColor:Y({luminosity:"light"})}},r.a.createElement("div",{className:d.name},r.a.createElement(h.a,{variant:"h2"},e.fullName),r.a.createElement(h.a,{variant:"h4"},e.age)),r.a.createElement("br",null),r.a.createElement("div",{className:d.photo},r.a.createElement("img",{className:d.photo,src:e.image1,width:500,alt:""}),r.a.createElement(v.a,{className:d.dislike},"I dislike this person"),r.a.createElement(v.a,{className:d.like},"I like this person")),r.a.createElement(h.a,{variant:"subtitle1"},e.bios[0]&&e.bios.reverse()[0].content))})))},X=t(33),$=Object(b.a)({root:{backgroundColor:"#000"},container:{position:"absolute",left:"50%",top:"50%",marginTop:"-40vh",marginLeft:"-40vw",width:"80vw",height:"80vh"},loginBtn:{},signupBtn:{},logo:{position:"absolute",left:"38%",marginRight:"-225"},yolo:{height:"80vh"},buttons:{display:"block",margin:"0 auto"}}),H=function(e){var a=$();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(h.a,{align:"center",variant:"h1"},"POLAR"),r.a.createElement(h.a,{align:"center",variant:"body1"},"A dating app for exact opposites."),r.a.createElement("img",{src:R.a,width:450,alt:"logo",className:a.logo}),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,null,r.a.createElement(_.a,{justify:"center",container:!0},r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{id:"signup-btn-home",variant:"contained",color:"secondary",component:X.b,to:"/signup"},r.a.createElement(h.a,{align:"center",variant:"h6"},"SIGN UP"))),r.a.createElement(_.a,{item:!0,xs:2,alignItems:"center",alignContent:"center"},r.a.createElement(v.a,{id:"login-btn-home",variant:"contained",color:"secondary",component:X.b,to:"/login"},r.a.createElement(h.a,{align:"center",variant:"h6"},"LOG IN")))))))},Z=t(125),Q=t(738),ee=t(779),ae=t(780),te=t(785),ne=t(128),re=t.n(ne),le=t(124),oe=t.n(le),ce=void 0,ie=t(49),se=t(50),me=t(353),ue=(t(117),Object(b.a)({profileGrid:{margin:"0 auto"},card:{padding:"2.5% 19%"},profilePic:{position:"relative"},editProfilePic:{position:"absolute",left:"2%",bottom:"5%"},bio:{fontSize:"1.5em"},age:{color:"#666"},posts:{marginTop:45}})),de=function(e){var a=r.a.useState(""),t=Object(c.a)(a,2),l=(t[0],t[1],r.a.useState(!1)),o=Object(c.a)(l,2),i=o[0],s=o[1],u=r.a.useState(!1),d=Object(c.a)(u,2),p=d[0],E=d[1],b=Object(m.a)("_session"),f=Object(c.a)(b,2),O=f[0],y=(f[1],Object(n.useState)(se.decode(O._session))),x=Object(c.a)(y,2),C=x[0],w=x[1],N=Object(n.useState)(),k=Object(c.a)(N,2),S=k[0],P=k[1],A=ue();console.log("Loaded new bios for ".concat(C.fullName)),console.log(C.bios);var T=r.a.useCallback((function(e){var a=new me.S3({accessKeyId:"AKIAIKO3KL7GEBPWP3DA",secretAccessKey:"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"});console.log(e);var t=e.ETag,n={Bucket:"polaruseraccountpictures",Key:"".concat(C.fullName.split(" ")[0]).concat(C.id,"/").concat(t),Body:e};a.upload(n,(function(e,a){e||(console.log(a),ce.res.send(a))})),ie.post("/api/v1/account/add-image",{file:e},{headers:{Authorization:"Bearer ".concat(O._session)}}).then((function(e){s(!1),console.log(e.data)})).catch((function(e){console.log(e)}))}),[O._session,C.fullName,C.id]),L=function(){ie.get("/user/".concat(C.id),{headers:{Authorization:"Bearer ".concat(O._session)}}).then((function(e){w(Object(j.a)({},C,{bios:e.data.bios.reverse()}))}))};return Object(n.useEffect)((function(){L()}),[]),r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement(K,null),r.a.createElement(_.a,{container:!0,xs:10,className:A.profileGrid,justify:"center"},r.a.createElement(Q.a,{elevation:3,className:A.card},r.a.createElement("div",{className:A.profilePic},r.a.createElement("img",{src:C.image1,width:400,alt:"profile"}),r.a.createElement(ee.a,{className:A.editProfilePic,color:"secondary",size:"small"},r.a.createElement(re.a,{onClick:function(){s(!0)}}))),r.a.createElement(_.a,{container:!0,spacing:1},r.a.createElement(_.a,{container:!0,item:!0,xs:12},r.a.createElement(h.a,{className:A.nameText,variant:"h3"},C.fullName),r.a.createElement(_.a,{item:!0,xs:!0}),r.a.createElement(h.a,{className:A.age,variant:"h3"},C.age))),r.a.createElement(h.a,{className:A.bio,variant:"body"},C.bios[0]&&'"'.concat(C.bios[0].content,'"'),r.a.createElement(oe.a,{onClick:function(){E(!0)}})),r.a.createElement(ae.a,null),r.a.createElement(h.a,{variant:"h4"},"Recent Activity"),C.bios.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(h.a,{gutterBottom:!0,className:A.posts,variant:"body1"},e.content),r.a.createElement(ae.a,null))})))),r.a.createElement(W.a,{"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",open:i,onClose:function(){s(!1)}},r.a.createElement(I.a,{id:"alert-dialog-title"},"Update Your Profile Photo"),r.a.createElement(F.a,null,r.a.createElement(B.a,{id:"alert-dialog-description"},r.a.createElement(Z.a,{onDrop:T},(function(e){var a=e.getRootProps,t=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",a(),r.a.createElement("input",t()),r.a.createElement(re.a,null),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))))),r.a.createElement(W.a,{"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",open:p,onClose:function(){E(!1)}},r.a.createElement(I.a,{id:"alert-dialog-title"},"Update Your Status"),r.a.createElement(F.a,null,r.a.createElement(B.a,{id:"alert-dialog-description"},r.a.createElement(te.a,{onChange:function(e){P(e.target.value)},multiline:!0,rows:2,name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"bio",autoFocus:!0}))),r.a.createElement(D.a,null,r.a.createElement(v.a,{onClick:function(){ie.post("/api/v1/account/update-bio",{bio:S},{headers:{Authorization:"Bearer ".concat(O._session)}}).then((function(e){L(),E(!1),console.log(e.data)})).catch((function(e){console.log(e)}))},variant:"contained"},"Update"))))},pe=t(782),Ee=t(792),be=t(783),ge=t(789),fe=t(786),he=t(50),ve=t(49);function je(){return r.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(pe.a,{color:"inherit",href:"https://github.com/MichelKazi/Polar"},"Polar")," ",(new Date).getFullYear(),".")}var Oe=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ye(){var e=Object(s.g)(),a=Oe(),t=Object(m.a)(["_session"]),l=Object(c.a)(t,2),o=(l[0],l[1]),i=Object(n.useContext)(y),u=i.dispatch,d=Object(n.useState)(""),p=Object(c.a)(d,2),E=p[0],b=p[1],j=Object(n.useState)(""),O=Object(c.a)(j,2),x=O[0],C=O[1];return r.a.createElement(f.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ee.a,{className:a.avatar}),r.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(te.a,{onChange:function(e){b(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(te.a,{onChange:function(e){C(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(be.a,{control:r.a.createElement(ge.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(v.a,{type:"submit",onClick:function(a){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(i.state),t.next=4,w.a.awrap(ve.post("/api/v1/entrance/login",{email:E,password:x}).then((function(e){o("_session",e.data,{maxAge:15552e3,path:"/"});var a=he.decode(e.data);return u({type:"setUser",payload:a})})).then((function(a){e.push("/dashboard")})).catch((function(e){console.log(e)})));case 4:t.sent;case 5:case"end":return t.stop()}}))},fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(_.a,{item:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(fe.a,{mt:8},r.a.createElement(je,null)))}var xe=t(7),Ce=t(793),we=t(794),Ne=t(781),ke=t(791),Se=t(788),Pe=t(217),Ae=t.n(Pe),_e=(t(50),t(49));function We(){return r.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(pe.a,{color:"inherit",href:"https://github.com/MichelKazi/Polar"},"Polar")," ",(new Date).getFullYear(),".")}var Ie=Object(xe.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(Ce.a),Fe=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Be(){var e=Object(s.g)(),a=Fe(),t=Object(m.a)(["_session"]),l=Object(c.a)(t,2),o=(l[0],l[1]),i=Object(n.useState)(1),u=Object(c.a)(i,2),d=u[0],p=u[1],E=Object(n.useState)(""),b=Object(c.a)(E,2),j=b[0],O=b[1],y=Object(n.useState)(""),x=Object(c.a)(y,2),C=x[0],N=x[1],k=Object(n.useState)("1998/10/03"),S=Object(c.a)(k,2),P=S[0],A=S[1],W=Object(n.useState)(""),I=Object(c.a)(W,2),F=I[0],B=I[1],D=Object(n.useState)(""),T=Object(c.a)(D,2),L=T[0],U=T[1],R=Object(n.useState)(""),q=Object(c.a)(R,2),z=q[0],G=q[1],K=Object(n.useState)("doesn't matter"),Y=Object(c.a)(K,2),M=Y[0],V=Y[1],J=Object(n.useState)(""),X=Object(c.a)(J,2),$=X[0],H=X[1],Z=Object(n.useState)(null),Q=Object(c.a)(Z,2),ee=(Q[0],Q[1],Object(n.useState)("")),ae=Object(c.a)(ee,2),ne=ae[0],re=ae[1],le=function(){p(--d)},oe=function(){p(++d)};return r.a.createElement(f.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ee.a,{className:a.avatar},r.a.createElement(Ae.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(_.a,{container:!0,spacing:2},1===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{onChange:function(e){B(e.target.value)},autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(_.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{onChange:function(e){U(e.target.value)},variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(te.a,{onChange:function(e){O(e.target.value)},variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(te.a,{onChange:function(e){N(e.target.value)},variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(_.a,{item:!0,xs:10}),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:oe},"next"))),2===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(te.a,{onChange:function(e){console.log(e.target.value.split("-").join("/")),A(e.target.value.split("-").join("/"))},fullWidth:!0,defaultValue:"1969-04-20",id:"date",label:"Birthday",type:"date"})),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(we.a,{component:"fieldset",className:a.formControl},r.a.createElement(Ne.a,{component:"legend"},"Your Gender"),r.a.createElement(ke.a,{"aria-label":"gender",row:!0,name:"gender1",value:z,onChange:function(e){G(e.target.value)}},r.a.createElement(be.a,{value:"female",control:r.a.createElement(Se.a,null),label:"Female"}),r.a.createElement(be.a,{value:"male",control:r.a.createElement(Se.a,null),label:"Male"}),r.a.createElement(be.a,{value:"non-binary",control:r.a.createElement(Se.a,null),label:"Non-binary"})))),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:le},"back")),r.a.createElement(_.a,{item:!0,xs:8}),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:oe},"next"))),3===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(we.a,{component:"fieldset",className:a.formControl},r.a.createElement(Ne.a,{component:"legend"},"What are you interested in?"),r.a.createElement(ke.a,{"aria-label":"gender",row:!0,name:"gender1",value:M,onChange:function(e){V(e.target.value)}},r.a.createElement(be.a,{value:"female",control:r.a.createElement(Se.a,null),label:"Women"}),r.a.createElement(be.a,{value:"male",control:r.a.createElement(Se.a,null),label:"Men"}),r.a.createElement(be.a,{value:"doesn't matter",control:r.a.createElement(Se.a,null),label:"It doesn't matter"})))),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:le},"back")),r.a.createElement(_.a,{item:!0,xs:8}),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:oe},"next"))),4===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(h.a,{gutterBottom:!0},"What's your age preference?"),r.a.createElement(Ie,{min:18,max:120,valueLabelDisplay:"auto",defaultValue:18,onChange:function(e,a){H(a)},"aria-labelledby":"continuous-slider"})),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:le},"back")),r.a.createElement(_.a,{item:!0,xs:8}),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:oe},"next"))),5===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"h6"},"Tell us about yourself"),r.a.createElement(te.a,{onChange:function(e){re(e.target.value)},multiline:!0,rows:4,name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"bio",label:"Bio",autoFocus:!0}),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(a){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,w.a.awrap(_e.post("/api/v1/entrance/signup",{fullName:"".concat(F," ").concat(L),email:j,password:C,dob:P.split("-").join("/"),gender:z,preference:M,agePreference:$,bio:ne}).then((function(e){o("_session",e.data,{maxAge:15552e3,path:"/"})})).then((function(a){e.push("/profile")})).catch((function(e){console.log(e)})));case 3:case"end":return t.stop()}}))},className:a.submit},"Sign Up")),r.a.createElement(_.a,{item:!0,xs:2},r.a.createElement(v.a,{onClick:le},"back")),r.a.createElement(_.a,{item:!0,xs:8}),r.a.createElement(_.a,{item:!0,xs:2}))),r.a.createElement(_.a,{container:!0,justify:"flex-end"},r.a.createElement(_.a,{item:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(fe.a,{mt:5},r.a.createElement(We,null)))}var De=t(49),Te=t(50),Le=Object(b.a)({profileGrid:{height:"94.2vh",backgroundColor:"#ccc",margin:"0 auto"},card:{padding:"2.5% 19%"},profilePic:{position:"relative"},editProfilePic:{position:"absolute",left:"5%",bottom:"5%"},bio:{fontSize:"1.5em"},age:{color:"#666"}}),Ue=function(e){var a=Object(s.h)().id,t=Object(m.a)("_session"),l=Object(c.a)(t,2),o=l[0],i=(l[1],Object(n.useState)(Te.decode(o._session))),u=Object(c.a)(i,2),d=u[0],p=u[1],E=Object(n.useState)(),b=Object(c.a)(E,2),f=(b[0],b[1],Le());return console.log("Loaded new bios for ".concat(d.fullName)),console.log(d.bios),Object(n.useEffect)((function(){De.get("/user/".concat(a),{headers:{Authorization:"Bearer ".concat(o._session)}}).then((function(e){p(Object(j.a)({},d,{bios:e.data.bios.reverse()}))}))}),[]),r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement(K,null),r.a.createElement(_.a,{container:!0,xs:10,className:f.profileGrid,justify:"center"},r.a.createElement(Q.a,{elevation:3,className:f.card},r.a.createElement("div",{className:f.profilePic},r.a.createElement("img",{src:d.image1,width:400,alt:"profile"})),r.a.createElement(_.a,{container:!0,spacing:1},r.a.createElement(_.a,{container:!0,item:!0,xs:12},r.a.createElement(h.a,{className:f.nameText,variant:"h3"},d.fullName),r.a.createElement(_.a,{item:!0,xs:!0}),r.a.createElement(h.a,{className:f.age,variant:"h3"},d.age))),r.a.createElement(h.a,{className:f.bio,variant:"body"},d.bios[0]&&'"'.concat(d.bios[0].content,'"')),r.a.createElement(ae.a,null),r.a.createElement(h.a,{variant:"h6"},"Recent activity"),r.a.createElement(_.a,{className:f.posts,container:!0},r.a.createElement(h.a,{variant:"h4"},"Recent Activity"),d.bios.map((function(e){return r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement("p",null,e.content))}))))))},Re=t(50),qe=t(49);function ze(){return r.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(pe.a,{color:"inherit",href:"https://github.com/MichelKazi/Polar"},"Polar")," ",(new Date).getFullYear(),".")}var Ge=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#e07070"},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)},error:{textAlign:"center",margin:e.spacing(3)}}}));function Ke(){var e=Object(s.g)(),a=Ge(),t=Object(m.a)(["_session"]),l=Object(c.a)(t,2),o=(l[0],l[1]),i=Object(n.useContext)(y),u=i.dispatch,d=Object(n.useState)(!1),p=Object(c.a)(d,2),E=p[0],b=p[1],j=Object(n.useState)(""),O=Object(c.a)(j,2),x=O[0],C=O[1],N=Object(n.useState)(""),k=Object(c.a)(N,2),S=k[0],P=k[1];return r.a.createElement(f.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ee.a,{className:a.avatar}),r.a.createElement(h.a,{className:a.error,component:"h1",variant:"h5"},"Sign in"),E&&r.a.createElement(h.a,{component:"h6",variant:"h6",color:"secondary"},"Incorrect email or password, try again."),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(te.a,{onChange:function(e){C(e.target.value)},margin:"normal",required:!0,fullWidth:!0,error:E,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(te.a,{onChange:function(e){P(e.target.value)},margin:"normal",required:!0,fullWidth:!0,error:E,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(v.a,{type:"submit",onClick:function(a){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(i.state),t.next=4,w.a.awrap(qe.put("/api/v1/entrance/login",{email:x,password:S}).then((function(e){o("_session",e.data,{maxAge:15552e3,path:"/"});var a=Re.decode(e.data);return u({type:"setUser",payload:a})})).then((function(a){e.push("/dashboard")})).catch((function(e){b(!0),console.log(e)})));case 4:t.sent;case 5:case"end":return t.stop()}}))},fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(_.a,{item:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(fe.a,{mt:8},r.a.createElement(ze,null)))}var Ye=function(){return r.a.createElement(X.a,{history:E},r.a.createElement(s.d,null,r.a.createElement(d,{path:"/",exact:!0,component:H}),r.a.createElement(d,{path:"/signup",component:Be}),r.a.createElement(d,{path:"/login",component:ye}),r.a.createElement(d,{path:"/testsignup",component:Be}),r.a.createElement(d,{path:"/testlogin",component:Ke}),r.a.createElement(u,{path:"/profile",component:de}),r.a.createElement(u,{path:"/dashboard",component:J}),r.a.createElement(u,{path:"/user/:userid"},r.a.createElement(Ue,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=t(784),Ve=r.a.createElement(Me.a,null,r.a.createElement((function(e){var a=e.children,t=Object(n.useReducer)((function(e,a){switch(a.type){case"setUser":return console.log("User is being set"),Object(j.a)({},e,{},a.payload);case"setToken":return console.log("Token is being set"),Object(j.a)({},e,{token:a.payload});default:return Object(j.a)({},e)}}),O),l=Object(c.a)(t,2),o=l[0],i=l[1];return r.a.createElement(x,{value:{state:o,dispatch:i}},a)}),null,r.a.createElement(Ye,null)));o.a.render(Ve,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,a,t){e.exports=t.p+"static/media/logo.0927c5b0.png"}},[[227,1,2]]]);
//# sourceMappingURL=main.51cd8735.chunk.js.map